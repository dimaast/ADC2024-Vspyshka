<% if current_user
    favourite = favouriteable.favourites.where(user_id: current_user.id)
    button_text = favourite && favourite.count > 0 ? "Unfavourite" : "Favourite" 
  end

  counter = favouriteable.favourites.count %> 

<div>
  <%= content_tag :span, "#{counter}" %>
  <%= link_to button_text, favourite_toggle_path(type: favouriteable.class, id: favouriteable.id), data: { turbo_stream: true }  %>
</div>
