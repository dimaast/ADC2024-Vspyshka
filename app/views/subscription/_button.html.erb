<%
subscription = subscriptionable.subscriptions.where(user_id: current_user.id)
button_text = subscription && subscription.count > 0 ? "Unsubscribe" : "Subscribe" %> 

<div><%= link_to button_text, subscription_toggle_path(type: subscriptionable.class, id: subscriptionable.id), data: { turbo_stream: true }  %></div>